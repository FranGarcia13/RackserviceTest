(window.wpJsonpTemplateSections=window.wpJsonpTemplateSections||[]).push([[50],{1056:function(t,e,n){"use strict";n.r(e),n.d(e,"registerStaticEditorControllers",(function(){return P}));n(0),n(6);var r=n(58),i=n(56);function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.workFn=e,this.pending=!1,this.samples=[],this.lastCompleteExecution=null,this.sampledAverageExecution=null,this.pendingDowntime=null}var e,n,r;return e=t,(n=[{key:"invoke",value:function(){var t=this,e=this.lastCompleteExecution,n=this.sampledAverageExecution;if(!this.pending){if(null!==e&&null!==n){var r=Date.now()-e,i=2*n;if(r<i){var o=i-r;return this.pendingDowntime?void 0:void(this.pendingDowntime=setTimeout((function(){t.invoke(),t.pendingDowntime=null}),o))}}this.doWork()}}},{key:"doWork",value:function(){var t=Date.now();this.pending=!0;try{this.workFn()}catch(t){console.error(t)}this.lastCompleteExecution=Date.now();var e=this.lastCompleteExecution-t;this.pending=!1;var n=this.samples;n.unshift(e),n.length>22&&(this.samples=n=n.slice(0,22)),this.sampledAverageExecution=n.reduce((function(t,e){return t+e}),0)/n.length}}])&&o(e.prototype,n),r&&o(e,r),t}();var a=function(t){var e=new c(t);return function(){return e.invoke()}},l=n(19),s=n(57),u=n(2),d=n.n(u),f=n(1);function p(t){return function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var y=function(t){return"collection-type-".concat(t)},m=Object.values(f.d).map(y);var g=n(20);function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function w(t,e,n){return(w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=C(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function S(t,e){return(S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=C(t);if(e){var i=C(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A(this,n)}}function A(t,e){return!e||"object"!==v(e)&&"function"!=typeof e?k(t):e}function k(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var j={backgroundWidth:["background-width--full-bleed","background-width--inset"],contentWidth:["content-width--narrow","content-width--medium","content-width--wide"],sectionHeight:["section-height--small","section-height--medium","section-height--large"],horizontalAlignment:["horizontal-alignment--left","horizontal-alignment--center","horizontal-alignment--right"],verticalAlignment:["vertical-alignment--top","vertical-alignment--middle","vertical-alignment--bottom"]},x=["contentWidth","customContentWidth","customSectionHeight","imageOverlayOpacity"].concat(Object.keys(j)),W=!1,D=!1,E=!1,T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}(o,t);var e,n,r,i=O(o);function o(t){var e,n,r,c;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),e=i.call(this,t),n=k(e),c=function(t){e.isMainContentSection&&t.typeName&&t.typeName.indexOf("blog-")>-1&&function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body;(e=n.classList).remove.apply(e,p(m)),t&&n.classList.add(y(t))}(t.typeName);var n=t.styles;if(!n)return!1;var r=Object.keys(n).filter((function(t){return e.currentStyles[t]!==n[t]}));if(0===r.length)return!1;if(n.contentWidth===e.currentStyles.contentWidth&&n.customContentWidth===e.currentStyles.customContentWidth||(E=!0),n.imageOverlayOpacity!==e.currentStyles.imageOverlayOpacity){var i=e.node.querySelector(".section-background-overlay");i&&(i.style.opacity=n.imageOverlayOpacity)}"section-height--custom"===n.sectionHeight&&(W=!0),n.verticalAlignment!==e.currentStyles.verticalAlignment&&(D=!0),e.currentStyles=n;var o="true"===d.a.getValue("tweak-transparent-header");if(e.isFirstSection&&o){var c=document.querySelector(".header");if(!e.node.classList.contains(f.c)&&r.includes("sectionTheme")){var a=n.sectionTheme;Object(g.a)(c,f.k,a)}if(r.includes("backgroundWidth")){if(n.backgroundWidth===f.b){var l=e.currentStyles.sectionTheme;Object(g.a)(c,f.k,l)}n.backgroundWidth===f.c&&Object(g.a)(c,f.k)}}return!!r.find((function(t){return x.includes(t)}))&&(e.throttledRenderStyles(),!0)},(r="onSectionDataChange")in n?Object.defineProperty(n,r,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[r]=c,e.sectionId=e.node.getAttribute("data-section-id"),e.isFirstSection=null===e.node.previousElementSibling,e.boundOnSectionDataChange=e.onSectionDataChange.bind(k(e)),e.isMainContentSection=e.node.classList.contains("content-collection");var s=e.node.getAttribute("data-current-styles");return e.currentStyles=s?JSON.parse(s):{},e.throttledRenderStyles=a((function(){return e.renderStyles()})),Object(l.a)().then((function(t){t.watch(e.sectionId,e.boundOnSectionDataChange)})),e.destroy=e.destroy.bind(k(e)),e}return e=o,(n=[{key:"removeClassesAndApplyNewValue",value:function(t,e,n,r){var i=this;t.forEach((function(t){return i.node.classList.remove(t)})),t.includes(e)?(this.node.classList.add(e),r&&r(e)):n&&n(e)}},{key:"applySectionHeight",value:function(t,e){if("string"!=typeof e){var n=this.node.querySelector(".content-wrapper");this.node.style.minHeight="".concat(e,"vh"),"vertical-alignment--top"===t?(n.style.paddingTop="",n.style.paddingBottom="calc(".concat(e,"vmax / 5)")):"vertical-alignment--bottom"===t?(n.style.paddingTop="calc(".concat(e,"vmax / 5)"),n.style.paddingBottom=""):(n.style.paddingTop="calc(".concat(e,"vmax / 10)"),n.style.paddingBottom="calc(".concat(e,"vmax / 10)"))}}},{key:"renderStyles",value:function(){var t=this,e=this.currentStyles;this.removeClassesAndApplyNewValue(j.backgroundWidth,e.backgroundWidth),this.removeClassesAndApplyNewValue(j.horizontalAlignment,e.horizontalAlignment),this.removeClassesAndApplyNewValue(j.verticalAlignment,e.verticalAlignment);var n=this.node.querySelector(".content-wrapper"),r=n.querySelector(".content");W||D?this.applySectionHeight(e.verticalAlignment,e.customSectionHeight):(n.style.paddingTop="",n.style.paddingBottom="",this.node.style.minHeight=""),this.removeClassesAndApplyNewValue(j.sectionHeight,e.sectionHeight,(function(n){t.applySectionHeight(e.verticalAlignment,n)}),(function(){n.style.paddingTop="",n.style.paddingBottom="",t.node.style.minHeight=""})),E&&!this.isMainContentSection&&this.removeClassesAndApplyNewValue(j.contentWidth,e.contentWidth,(function(){r.style.width="".concat(e.customContentWidth,"%")}),(function(){r.style.width=""})),window.Y.one(window.Y.config.win).simulate("resize")}},{key:"destroy",value:function(){var t=this;w(C(o.prototype),"destroy",this).call(this),Object(l.a)().then((function(e){e.disconnect(t.sectionId,t.boundOnSectionDataChange)}))}}])&&b(e.prototype,n),r&&b(e,r),o}(s.a),H=function(t){return new T(t)};n(15);function R(t,e,n,r,i,o,c){try{var a=t[o](c),l=a.value}catch(t){return void n(t)}a.done?e(l):Promise.resolve(l).then(r,i)}var P=function(){var t,e=(t=regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.register("Header",r.a);case 2:return t.next=4,e.register("Flags",i.a);case 4:return t.next=6,e.register("SectionWrapperController",H);case 6:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function c(t){R(o,r,i,c,a,"next",t)}function a(t){R(o,r,i,c,a,"throw",t)}c(void 0)}))});return function(t){return e.apply(this,arguments)}}()}}]);